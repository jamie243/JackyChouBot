<!DOCTYPE html>
<html>
<head>
<title>Jacky Chou Bot</title>
<style>
body {
    font-family: sans-serif; 
    margin: 0; 
    display: flex;
    flex-direction: column; 
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #f4f4f4; 
    color: #333; 
}

.container {
    background-color: white;
    padding: 40px 50px; 
    border-radius: 15px; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); 
    width: 80%; 
    max-width: 600px; 
    position: relative; 
}

.title {
    text-align: center;
    margin-bottom: 30px; 
}

.title h2 {
    margin: 0; 
}

.title img {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 30px;
}

.input-area {
    display: flex;
    margin-bottom: 20px; 
}

input[type="text"] {
    flex-grow: 1;
    padding: 15px; 
    border: 1px solid #e0e0e0; 
    border-radius: 8px 0 0 8px; 
    font-size: 16px; 
}

button {
    background-color: #1877f2; 
    color: white;
    padding: 15px 25px;
    border: none;
    border-radius: 0 8px 8px 0;
    cursor: pointer;
    font-size: 16px; 
}

.waiting-message {
    text-align: center;
    color: #666; 
    font-size: 14px;
    padding: 20px; 
    border: 1px solid #e0e0e0; 
    border-radius: 8px; 
    margin-top: 20px; 
}

.reference-video {
    text-align: center;
    margin-top: 40px;
    font-size: 14px; 
    color: #666; 
}
</style>
</head>
<body>
    <div class="container">
        <div class="title">
            <h2>Jacky Chou Bot</h2>
            <img src="youtube-logo.png" alt="YouTube logo"> 
        </div>

        <div class="input-area">
            <input type="text" id="query" placeholder="What would you like to ask AI Jacky Chou?">
            <button onclick="sendQuery()">SEND</button>
        </div>

        <div class="waiting-message" id="response">
            Waiting on query...
        </div>

        <div class="reference-video">
            Reference Video
        </div>
    </div>

    <script>
        function sendQuery() {
            const query = document.getElementById('query').value;

            document.getElementById('response').innerText = "Processing...";

            fetch('/query', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `query=${encodeURIComponent(query)}`
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                document.getElementById('response').innerText = data.response || "No response from server.";
            })
            .catch(error => {
                document.getElementById('response').innerText = "An error occurred. Please try again.";
                console.error('Error:', error);
            });
        }

    </script>
</body>
</html>
